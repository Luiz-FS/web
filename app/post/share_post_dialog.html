<md-dialog flex flex-gt-md="40" layout="row">
  <md-card flex="100">
    <md-card-header>
      <md-card-avatar>
        <img ng-src="{{ sharePostCtrl.user.current_institution.photo_url }}" class="md-user-avatar"/>
      </md-card-avatar>
      <md-card-header-text>
        <span class="md-title">{{ sharePostCtrl.user.current_institution.name }}</span>
        <span class="md-subhead">por {{ sharePostCtrl.user.name }}</span>
      </md-card-header-text>
      <md-button class="md-icon-button" ng-click="sharePostCtrl.cancelDialog()">
        <md-icon>close</md-icon>
      </md-button>
    </md-card-header>
    <md-card-content layout="column">
      <md-input-container>
        <label>Título</label>
        <input ng-model="sharePostCtrl.newPost.title" md-maxlength="100" maxlength="100" placeholder="Escreva aqui uma nova publicação">
      </md-input-container>
      <md-input-container ng-show="sharePostCtrl.newPost.title">
        <label>Mensagem</label>
        <textarea ng-model="sharePostCtrl.newPost.text" rows="4" md-select-on-focus required="true">
        </textarea>
      </md-input-container>
      <md-card>
        <md-card-content layout="column">
          <div class="image-view" ng-if="sharePostCtrl.showImage()">
            <img style="border-radius: 5%;" ng-src="{{ sharePostCtrl.photoUrl }}"/>
          </div>
          <md-input-container>
            <label>Título</label>
            <input disabled ng-model="sharePostCtrl.post.title">
          </md-input-container>
          <md-input-container ng-show="sharePostCtrl.post.title">
            <label>Mensagem</label>
            <textarea disabled ng-model="sharePostCtrl.post.text"></textarea>
          </md-input-container>
          
        </md-card-content>
      </md-card>
      <md-progress-linear ng-show="sharePostCtrl.loading" md-mode="indeterminate" style="width: 19%; margin-top: 5px; margin-left: 10px;"></md-progress-linear>
    </md-card-content>
    <md-dialog-actions layout="row" ng-show="sharePostCtrl.newPost.title">
      <span flex></span>
      <md-button class="md-icon-button" ng-click="sharePostCtrl.sharePost()" ng-disabled="!sharePostCtrl.isPostValid()">
        <md-icon>send</md-icon>
      </md-button>
    </md-dialog-actions>
  </md-card>
</md-dialog>