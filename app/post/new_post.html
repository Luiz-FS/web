<md-card flex="100">
  <md-card-header>
    <md-card-avatar>
      <img ng-src="{{ postCtrl.user.current_institution.photo_url }}" class="md-user-avatar"/>
    </md-card-avatar>
    <md-card-header-text>
      <span class="md-title">{{ postCtrl.user.current_institution.name }}</span>
      <span class="md-subhead">por {{ postCtrl.user.name }}</span>
    </md-card-header-text>
  </md-card-header>
  <md-card-content layout="column">
    <md-input-container>
      <label>Título</label>
      <input ng-model="postCtrl.post.title" md-maxlength="100" maxlength="100" placeholder="Escreva aqui uma nova publicação">
    </md-input-container>
    <md-input-container ng-show="postCtrl.post.title">
      <label>Mensagem</label>
      <textarea ng-model="postCtrl.post.text" rows="4" md-select-on-focus required="true">
      </textarea>
    </md-input-container>
    <img ng-show="postCtrl.post.photo_url" style="border-radius: 5%; " ng-src="{{ postCtrl.post.photo_url }}" width="100px" height="100px"/>
    <div>
      <md-button ng-show="postCtrl.post.title" ng-click="null" ng-model="postCtrl.file" ngf-pattern="'image/*'"
                    ngf-accept="'image/*'" ngf-max-size="5MB"
                    ngf-select="postCtrl.addImage(postCtrl.file)">
          <span>
              <b>
                  Adicionar imagem
              </b>
          </span>
      </md-button>
    </div>
  </md-card-content>
  <md-dialog-actions layout="row" ng-show="postCtrl.post.title">
    <span flex></span>
    <md-button ng-click="postCtrl.createPost(postCtrl.post)" ng-disabled="!postCtrl.isPostValid()">
      Enviar
    </md-button>
    <md-button ng-click="postCtrl.cancelDialog()" ng-if="postCtrl.isDialog">
      Cancelar
    </md-button>
    <md-button ng-click="postCtrl.clearPost()" ng-if="!postCtrl.isDialog">
      Limpar
    </md-button>
  </md-dialog-actions>
</md-card>