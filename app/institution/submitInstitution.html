<md-content class="body" layout="row" layout-align="center center" layout-fill  md-colors="{background: 'grey-900'}">
    <div md-whiteframe flex-gt-xs="70" layout-align="center" >
        <md-toolbar md-colors="{background: 'teal-900'}">
            <h1 class="md-toolbar-tools">Informe os dados da Instituição</h1>
        </md-toolbar>
        <div class="md-padding" md-colors="{background: 'grey-100'}">
            <div class="row">
                <div class="col-lg-3 col-sm-6">
                    <div class="card hovercard" md-colors="{background: 'grey-100'}">
                        <div style="height: 50px;">
                        </div>
                        <div class="avatar">
                            <img style="border-radius: 50%; " ng-src="{{ submitInstCtrl.newInstitution.photo_url }}" width="100px" height="100px" />
                        </div>
                        <div class="info">
                            <div class="title">
                                    <upload-image model="submitInstCtrl.newInstitution">Mudar imagem do instituição</upload-image>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <form name="institutionForm">
                <div layout="row">
                    <md-input-container class="md-block" flex-gt-xs flex="60">
                        <label>Nome</label>
                        <input type="text" name="name" required 
                            ng-model="submitInstCtrl.newInstitution.name">
                    </md-input-container>
                    <md-input-container class="md-block" flex-gt-xs flex="40">
                        <label>Sigla</label>
                        <input type="text" name="sigla" 
                            ng-model="submitInstCtrl.newInstitution.acronym">
                    </md-input-container> 
                </div>
                <md-input-container class="md-block" flex-gt-xs>
                    <label>Endereço</label>
                    <input type="text" name="Endereço" 
                        ng-model="submitInstCtrl.newInstitution.address">
                </md-input-container>
                <div layout="row">
                    <md-input-container class="md-block" flex-gt-xs>
                        <label>CNPJ</label>
                        <input type="text" name="cnpj"  
                            ng-model="submitInstCtrl.newInstitution.cnpj"
                        ng-pattern=submitInstCtrl.cnpjRegex 
                        minlength="18" md-maxlength="18" 
                        placeholder="00.000.000/0000-00">
                        <!-- TODO: implement functionality to show hints
                            author: Ruan Eloy , createdOn: 07/07/17
                        -->
                    </md-input-container>
                    <md-input-container class="md-block" flex-gt-xs>
                        <label>Telefone</label>
                        <input type="text" name="phone"  
                            ng-model="submitInstCtrl.newInstitution.phone_number"
                        ng-pattern=submitInstCtrl.phoneRegex
                        minlength="11" md-maxlength="11" 
                        placeholder="83 12345678">
                    </md-input-container>                          
                </div>
                <div layout="row">
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Área de Atuação</label>
                            <md-select ng-model="submitInstCtrl.newInstitution.occupation_area">
                          <md-option ng-repeat="area in submitInstCtrl.occupationAreas | orderBy: 'name'"
                            ng-value="area.value">{{ area.name }}
                          </md-option>
                        </md-select>
                    </md-input-container>  
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Natureza Jurídica</label>
                            <md-select ng-model="submitInstCtrl.newInstitution.legal_nature"> 
                          <md-option ng-repeat="nature in submitInstCtrl.legalNatures | orderBy: 'name'"
                            ng-value="nature.value">{{ nature.name }}
                          </md-option>
                        </md-select>
                    </md-input-container>
                </div>
                    <div ng-if="submitInstCtrl.newInstitution.occupation_area == 'other'">
                    <md-input-container class="md-block" flex-gt-xs>
                        <label>Informe outra área de atuação</label>
                        <input type="text" name="outra"
                            ng-model="submitInstCtrl.newInstitution.other_area">
                    </md-input-container>
                </div>
                <md-input-container class="md-block">
                    <label>Descrição</label>
                          <textarea ng-model="submitInstCtrl.newInstitution.description" maxlength="300" 
                      rows="3" md-select-on-focus>
                      </textarea>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-xs>
                    <label>Responsável</label>
                    <input type="text" name="Responsavel" disabled 
                    ng-model="submitInstCtrl.user.name">
                </md-input-container>
                <md-input-container class="md-block" flex-gt-xs>
                    <label>Email</label>
                    <input type="text" name="Email" disabled 
                        ng-model="submitInstCtrl.newInstitution.email">
                </md-input-container>
                <div layout="row" layout-align="end center">
                    <md-button ng-click="submitInstCtrl.cancel($event)" md-colors="{background: 'red-500'}">Cancelar</md-button>
                    <md-button ng-click="submitInstCtrl.submit($event)" md-colors="{background: institutionForm.$invalid? 'blue-grey-400':'teal-900'}" 
                    ng-disabled="institutionForm.$invalid">Confirmar</md-button>
                </div>
            </form>
        </div>
    </div>
</md-content>