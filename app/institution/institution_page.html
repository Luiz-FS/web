<md-content layout="column" layout-align="center" md-colors="{background: 'grey-200'}">
    <!-- CONTENT -->
<div flex-gt-lg="80" flex-lg="90">
    <div flex layout="column">
        <div layout="row" layout-xs="column" layout-padding flex="25" flex-sm="15" flex-gt-sm="30"
            md-colors="{background: 'grey-50'}">
            <!-- Institution image -->
            <div flex="20" hide show-gt-sm>
                <center>
                    <img ng-src="{{ institutionCtrl.current_institution.photo_url }}" height="170">
                </center>
            </div>

            <!-- Institution information -->
            <div flex>
                <center>
                    <div>
                        <h2>{{ institutionCtrl.current_institution.name }}
                            <md-icon title="Configurações" class="clickable" 
                                ng-click="institutionCtrl.goToManageMembers(institutionCtrl.current_institution.key)" 
                                ng-if="institutionCtrl.user.isAdmin(institutionCtrl.current_institution.key)">settings
                            </md-icon>
                        </h2>
                    </div>
                    <p>{{ institutionCtrl.current_institution.phone_number }}</p>
                    <p>{{ institutionCtrl.current_institution.address }}</p>
                    <p hide show-gt-sm>{{ institutionCtrl.current_institution.description }}</p>
                </center>
            </div>
        </div>
        <div layout="row" flex="10" flex-gt-sm layout-align="start center" layout-align-xs="center center" layout-padding 
            md-colors="{background: 'grey-50'}" hide show-xs>
            <!-- Buttons -->
            <md-button class="md-button" md-colors="{background:'green-900'}" ng-if="!institutionCtrl.isMember"
                ng-click="institutionCtrl.isUserFollower ? institutionCtrl.unfollow() : institutionCtrl.follow()">
                <md-icon>{{ institutionCtrl.isUserFollower ? 'person_outline':'person_add' }}</md-icon>
                {{ institutionCtrl.isUserFollower ? 'Deixar de seguir' : 'Seguir' }}
            </md-button>
        </div>
        <div layout="row" flex="60" flex-gt-sm="40">
            <div flex-gt-sm="20" layout="column" hide show-gt-sm>
                <!-- Buttons -->
                <md-button class="md-button" md-colors="{background:'green-900'}" ng-if="!institutionCtrl.isMember"
                    ng-click="institutionCtrl.isUserFollower ? institutionCtrl.unfollow() : institutionCtrl.follow()">
                    <md-icon>{{ institutionCtrl.isUserFollower ? 'person_outline':'person_add' }}</md-icon>
                    {{ institutionCtrl.isUserFollower ? 'Deixar de seguir' : 'Seguir' }}
                </md-button>

                <!-- INSTITUTION MEMBERS -->
                <md-card>
                    <md-subhead layout-padding class="md-primary" md-colors="{background: 'green-900'}">Membros</md-subhead>
                    <md-card-content>
                        <md-grid-list
                                md-cols="5" md-cols-gt-md="6"
                                md-row-height="1:1"
                                md-gutter="4px" md-gutter-gt-sm="4px">
                            <md-grid-tile ng-repeat="member in institutionCtrl.members" ng-click="null" md-rowspan="1" md-colspan="1" md-colspan-sm="1">
                                <figure>
                                    <img title="{{member.name}}" ng-src="{{member.photo_url}}" width="100%" height="100%"/>
                                </figure>
                            </md-grid-tile>
                        </md-grid-list>
                    </md-card-content>
                </md-card>

                <!-- INSTITUTION FOLLOWERS -->
                <md-card >
                    <md-subhead layout-padding class="md-primary" md-colors="{background: 'green-900'}">Seguidores</md-subhead>
                    <md-card-content>
                        <md-grid-list
                                md-cols="5" md-cols-gt-md="6"
                                md-row-height="1:1"
                                md-gutter="4px" md-gutter-gt-sm="4px">
                            <md-grid-tile ng-repeat="follower in institutionCtrl.followers" ng-click="null" md-rowspan="1" md-colspan="1" md-colspan-sm="1">
                                <figure>
                                    <img title="{{follower.name}}" ng-src="{{follower.photo_url}}" width="100%" height="100%"/>
                                </figure>
                            </md-grid-tile>
                        </md-grid-list>
                    </md-card-content>
                </md-card>
            </div>

            <!-- POSTS -->
            <div flex-gt-md="90" flex-md="75">
                <post-details posts="institutionCtrl.posts" institution="true"></post-details>
            </div>
        </div>
    <div>
</div>
</md-content>
