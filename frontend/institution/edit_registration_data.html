<div layout="row" class="edit-registration-data-top-bar">
    <md-button class="md-icon-button edit-registration-back-button" ng-click="createEventCtrl.previousStep()">
        <md-icon class="edit-registration-top-icon">keyboard_arrow_left</md-icon>
    </md-button>
    <h3 class="edit-registration-top-color">EDITAR DADOS CADASTRAIS</h3>
</div>
<div class="row" style="margin-top: 5em;">
    <div class="avatar" align="center">
        <img style="border-radius: 50%;" ng-src="{{ configInstCtrl.newInstitution.photo_url }}"
            width="100px" height="100px"/>
    </div>
    <div class="info" align="center">
        <h3>Dados cadastrais</h3>
    </div>
</div>
<div layout="column">
    <md-input-container class="edit-registration-data-name edit-registration-input-margin md-block" md-no-float>
        <p class="edit-registration-data-title">Nome</p>
        <input type="text" class="edit-registration-data-input" ng-model="configInstCtrl.newInstitution.name"
        required oninvalid="this.setCustomValidity('A instituição precisa ter um nome.')"
        oninput="this.setCustomValidity('')"/>
    </md-input-container>
    <div class="edit-registration-half-init-grid">
        <div class="edit-registration-data-acronym">
            <md-input-container class="edit-registration-data-name edit-registration-input-margin md-block" md-no-float>
                <p class="edit-registration-data-title">Sigla</p>
                <input type="text" class="edit-registration-data-input"
                ng-model="configInstCtrl.newInstitution.acronym"/>
            </md-input-container>
        </div>
        <div class="edit-registration-data-actuation">
            <p class="edit-registration-select-menu">Áreas de atuação</p>
            <md-select name="Actuation area" ng-model="configInstCtrl.newInstitution.actuation_area"
                class="edit-registration-data-name edit-registration-actuation-area">
                <md-option ng-repeat="(key, value) in configInstCtrl.actuationArea"
                ng-value="key" class="edit-registration-select-menu-size">
                    {{ value }}
                </md-option>
            </md-select>
        </div>
    </div>
    <div class="inst-registration-data-legal-nature">
        <p class="edit-registration-select-menu">Natureza legal</p>
        <md-select name="Legal nature" ng-model="configInstCtrl.newInstitution.legal_nature"
            class="edit-registration-data-name">
            <md-option ng-repeat="(key, value) in configInstCtrl.legalNatures"
            ng-value="key" class="edit-registration-select-menu-size">
                {{ value }}
            </md-option>
        </md-select>
    </div>
    <div class="edit-registration-half-end-grid">
        <md-input-container class="edit-registration-data-name edit-registration-input-margin md-block" md-no-float>
            <p class="edit-registration-data-title">CNPJ</p>
            <input type="text" class="edit-registration-data-input"
            ng-model="configInstCtrl.newInstitution.cnpj"
            ng-pattern=configInstCtrl.cnpjRegex
            minlength="18" md-maxlength="18"
            placeholder="00.000.000/0000-00"
            mask="99.999.999/9999-99"/>
        </md-input-container>
        <md-input-container class="edit-registration-data-name edit-registration-input-margin edit-registration-site md-block" md-no-float>
            <p class="edit-registration-data-title">Site institucional</p>
            <input type="text" class="edit-registration-data-input"
            ng-model="configInstCtrl.newInstitution.website_url"/>
        </md-input-container>
    </div>
    <md-input-container class="edit-registration-data-name edit-registration-input-margin md-block" md-no-float>
        <p class="edit-registration-data-title">Nome do dirigente máximo</p>
        <input type="text" class="edit-registration-data-input"
            required ng-model="configInstCtrl.newInstitution.leader"/>
    </md-input-container>
    <md-input-container class="edit-registration-data-name edit-registration-input-margin md-block" md-no-float>
        <p class="edit-registration-data-title">Responsável</p>
        <input type="text" class="edit-registration-data-input" disabled
        ng-model="configInstCtrl.newInstitution.admin.name"/>
    </md-input-container>
    <md-input-container class="edit-registration-data-name edit-registration-input-margin md-block" md-no-float>
        <p class="edit-registration-data-title">Breve descrição da instituição</p>
        <input type="text" class="edit-registration-data-input"
        ng-model="configInstCtrl.newInstitution.description" maxlength="1100"
        md-select-on-focus required/>
    </md-input-container>
    <div class="info" align="center">
        <h3>Localização</h3>
    </div>
    <md-input-container class="edit-registration-data-name edit-registration-input-margin md-block" md-no-float>
        <p class="edit-registration-data-title">Lagradouro</p>
        <input type="text" name="street" ng-required="!configInstCtrl.isAnotherCountry"
        ng-model="configInstCtrl.address.street"/>
    </md-input-container>
    <div class="edit-registration-half-init-grid">
        <md-input-container class="edit-registration-data-name edit-registration-input-margin md-block" md-no-float>
            <p class="edit-registration-data-title">Nº</p>
            <input type="text" name="number"
            ng-model="configInstCtrl.address.number" ng-pattern="configInstCtrl.numberRegex"/>
        </md-input-container>
        <md-input-container class="edit-registration-data-name edit-registration-input-margin md-block" md-no-float>
            <p class="edit-registration-data-title">Bairro</p>
            <input type="text" name="neighbourhood" ng-required="!configInstCtrl.isAnotherCountry"
            ng-model="configInstCtrl.address.neighbourhood">
        </md-input-container>
    </div>
    <div class="edit-registration-half-init-grid">
        <md-input-container class="edit-registration-data-name edit-registration-input-margin md-block" md-no-float>
            <p class="edit-registration-data-title">País</p>
            <input type="text" name="number"
            ng-model="configInstCtrl.address.number" ng-pattern="configInstCtrl.numberRegex"/>
        </md-input-container>
        <md-input-container class="edit-registration-data-name edit-registration-input-margin md-block" md-no-float>
            <p class="edit-registration-data-title">Estado</p>
            <input type="text" name="neighbourhood" ng-required="!configInstCtrl.isAnotherCountry"
            ng-model="configInstCtrl.address.neighbourhood">
        </md-input-container>
        <md-input-container class="edit-registration-data-name edit-registration-input-margin md-block" md-no-float>
            <p class="edit-registration-data-title">Cidade</p>
            <input type="text" name="neighbourhood" ng-required="!configInstCtrl.isAnotherCountry"
            ng-model="configInstCtrl.address.neighbourhood">
        </md-input-container>
    </div>
    <div layout="row" class="edit-registration-buttons">
        <md-button type="reset" class="edit-registration-cancel-button" ng-click="editInfoCtrl.closeDialog()">
            CANCELAR
        </md-button>
        <md-button class="btn-submit" type="submit" class="md-raised" ng-click="editInfoCtrl.save()"
            md-colors="{background: 'default-teal-500'}">
            APLICAR
        </md-button>
    </div>
</div>
