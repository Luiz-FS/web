<md-toolbar id="config-profile__toolbar">
    <div class="md-toolbar-tools">
        <md-button class="md-icon-button" ng-click="configProfileCtrl.goBack()">
            <md-icon>close</md-icon>
        </md-button>
        <span class="config-profile__toolbar__title">MEU PERFIL</span>
        <md-button class="config-profile__toolbar--save" ng-click="configProfileCtrl.finish()">
            SALVAR
        </md-button>
    </div>
</md-toolbar>

<md-content class="config-profile__container custom-scrollbar">
    <div class="config-profile__header">
        <div class="config-profile__header--background">
            <div class="config-profile__header--shadow" ng-if="!configProfileCtrl.canEdit()">
                <md-button class="md-icon-button" ng-click="configProfileCtrl.goBack()">
                    <md-icon class="config-profile__back__icon">arrow_back</md-icon>
                </md-button>
            </div>
        </div>
        
        <img class="config-profile__avatar config-profile__avatar--position" ng-src="{{ configProfileCtrl.getPhoto() }}">
        
        <md-button id="config-profile__camera__button" class="md-icon-button"
            ng-show="configProfileCtrl.canEdit()"
            ng-model="configProfileCtrl.file" ngf-pattern="'image/*'"
            ngf-accept="'image/*'" ngf-max-size="5MB"
            ngf-select="configProfileCtrl.cropImage(configProfileCtrl.file, $event)">
            <md-icon id="config-profile__photo__icon">photo_camera</md-icon>
        </md-button>
    </div>
    
    <div class="config-profile__info" ng-if="!configProfileCtrl.canEdit()">
        <p class="config-profile__info--name responsive__title">
            {{ configProfileCtrl.showProperty(configProfileCtrl.user.name) }}
        </p>
        
        <hr class="config-profile__info--divider"></hr>
        
        <div class="config-profile__info--data">
            <span>e-mail:</span>
            <p class="config-profile__info--item">{{ configProfileCtrl.showProperty(configProfileCtrl.user.email[0]) }}</p>
            <span>cpf:</span>
            <p class="config-profile__info--item">{{ configProfileCtrl.showProperty(configProfileCtrl.user.cpf) }}</p>
        </div>
    </div>

    <div class="config-profile__form" ng-if="configProfileCtrl.canEdit()">
        <md-input-container>
          <label>NOME</label>
          <input ng-model="configProfileCtrl.newUser.name" required>
        </md-input-container>
        <md-input-container>
          <label>E-MAIL DE CADASTRO</label>
          <input ng-model="configProfileCtrl.newUser.email[0]" type="email" disabled>
        </md-input-container>
        <md-input-container>
        <label>CPF</label>
        <input name="CPF" ng-model="configProfileCtrl.newUser.cpf" placeholder="123.456.789-00"
          mask="999.999.999-99" ng-pattern="configProfileCtrl.cpfRegex" required>
        </md-input-container>
    </div>

    <user-profiles 
        profiles="configProfileCtrl.user.institution_profiles" 
        edit-mode="configProfileCtrl.canEdit()">
    </user-profiles>
</md-content>