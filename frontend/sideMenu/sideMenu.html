<md-sidenav class="md-sidenav-left side-menu" md-component-id="sideMenu" md-whiteframe="4" md-is-locked-open="$mdMedia('gt-sm')">
    <md-content class="custom-scrollbar" md-colors="{background: 'grey-100'}">
        <!-- Menu header -->
        <div class="card hovercard" md-colors="{background: sideMenuCtrl.getProfileColor(800)}">
            <div class="cardheader">
                <div class="avatar">
                    <img ng-click="sideMenuCtrl.onClickImage()" ng-src="{{sideMenuCtrl.getImage()}}">
                </div>
            </div>
            <div class="info" md-colors="{background: sideMenuCtrl.getProfileColor(600)}">
                <div class="desc">
                    <div class="md-title sm-title" ng-click="sideMenuCtrl.onClickTitle()">{{sideMenuCtrl.getTitle()}}</div>
                    <span ng-if="sideMenuCtrl.showProfileSelector">{{ sideMenuCtrl.user.current_institution.name }}</span>
                    <md-menu ng-if="sideMenuCtrl.showProfileSelector">
                        <md-button class="md-icon-button" ng-click="$mdMenu.open(ev)">
                            <md-icon md-colors="{color: 'grey-50'}">arrow_drop_down</md-icon>
                        </md-button>
                        <md-menu-content width="4" class="custom-scrollbar">
                            <md-menu-item ng-repeat="profile in sideMenuCtrl.user.institution_profiles">
                                <md-button ng-click="sideMenuCtrl.changeInstitution(profile)">
                                    <md-icon md-colors="{color: profile.color+'-900'}">brightness_1</md-icon>
                                    {{ profile.institution.name }}
                                </md-button> 
                            </md-menu-item>
                            <md-menu-item>
                                <md-button ng-click="sideMenuCtrl.openColorPicker(profile)">
                                    <md-icon>color_lens</md-icon>
                                    GERENCIAR CORES
                                </md-button>
                            </md-menu-item>
                        </md-menu-content>
                    </md-menu> 
                </div>
            </div>
        </div>
        <!-- Menu items -->
        <md-content width="4" md-colors="{background: 'grey-100'}">
            <div ng-repeat="item in sideMenuCtrl.items track by item.description" ng-if="sideMenuCtrl.show(item)">
                <h4 ng-if="item.topDivider && item.sectionTitle" class="sm-section-title">{{item.sectionTitle}}</h4>
                <md-divider ng-if="item.topDivider"></md-divider>
                
                <md-menu-item>
                    <md-button ng-click="item.onClick(); sideMenuCtrl.close();" 
                        ng-class="sideMenuCtrl.getSelectedClass(item.stateName)">
                        <md-icon>{{item.icon}}</md-icon>
                        <b>{{item.description}}</b>
                    </md-button>
                </md-menu-item>

                <md-divider ng-if="item.bottomDivider"></md-divider>
            </div>
        </md-content>
    </md-content>
</md-sidenav>